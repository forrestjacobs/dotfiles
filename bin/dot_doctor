#!/usr/bin/env bash
set -e

if ! has brew; then
  echo "Follow instructions at https://brew.sh/ to install homebrew, then run 'dot_install' to get additional packages."
fi
if [ -f "${HOME}/.gitconfig" ]; then
  echo "Run 'mv ~/.gitconfig ~/.config/git' to move gitconfig to the XDG directory."
fi
if [[ "$(git config --global credential.https://github.com.helper)" != *"gh auth git-credential"* ]]; then
  echo "Install and set up the GitHub CLI:"
  echo "  brew install gh"
  echo "  gh auth login"
  echo "  gh auth setup-git"
fi
if [ ! -f /etc/pam.d/sudo_local ] && [[ $(sudo -nl) != *"NOPASSWD: ALL"* ]]; then
  echo "Run 'dot_setup_sudo' to set up Touch ID or passwordless sudo."
fi
if [[ $(basename "$SHELL") != "fish" ]]; then
  echo "Run 'dot_setup_fish' to set up fish."
fi
